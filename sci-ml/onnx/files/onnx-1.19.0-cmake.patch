diff '--color=auto' -ur onnx-1.19.0.orig/CMakeLists.txt onnx-1.19.0/CMakeLists.txt
--- onnx-1.19.0.orig/CMakeLists.txt	2025-08-27 00:59:30.614865131 +0200
+++ onnx-1.19.0/CMakeLists.txt	2025-08-27 01:05:41.517288936 +0200
@@ -481,6 +481,7 @@
   endif()
 
   pybind11_add_module(onnx_cpp2py_export MODULE "${ONNX_ROOT}/onnx/cpp2py_export.cc")
+  set_target_properties(onnx_cpp2py_export PROPERTIES SUFFIX ${PY_EXT_SUFFIX})
 
   if(CMAKE_SYSTEM_NAME STREQUAL "AIX")
     # whole-archive linker option not available on AIX
diff '--color=auto' -ur onnx-1.19.0.orig/setup.py onnx-1.19.0/setup.py
--- onnx-1.19.0.orig/setup.py	2025-08-26 23:37:09.000000000 +0200
+++ onnx-1.19.0/setup.py	2025-08-27 01:04:49.565509710 +0200
@@ -93,6 +93,10 @@
         os.chdir(orig_path)
 
 
+def get_ext_suffix():
+    return sysconfig.get_config_var("EXT_SUFFIX")
+
+
 def get_python_execute():
     if WINDOWS:
         return sys.executable
@@ -173,6 +177,7 @@
                 f"-DPython3_EXECUTABLE={get_python_execute()}",
                 "-DONNX_BUILD_PYTHON=ON",
                 f"-DONNX_NAMESPACE={ONNX_NAMESPACE}",
+                f"-DPY_EXT_SUFFIX={get_ext_suffix() or ''}",
             ]
             if COVERAGE:
                 cmake_args.append("-DONNX_COVERAGE=ON")
