diff '--color=auto' -ur pytorch-v2.10.0.orig/third_party/kineto/libkineto/CMakeLists.txt pytorch-v2.10.0/third_party/kineto/libkineto/CMakeLists.txt
--- pytorch-v2.10.0.orig/third_party/kineto/libkineto/CMakeLists.txt	2026-01-21 23:22:29.544685578 +0100
+++ pytorch-v2.10.0/third_party/kineto/libkineto/CMakeLists.txt	2026-01-21 23:23:00.980618710 +0100
@@ -160,7 +160,7 @@
 set(IPCFABRIC_INCLUDE_DIR "${DYNOLOG_INCLUDE_DIR}/dynolog/src/ipcfabric/")
 add_subdirectory("${IPCFABRIC_INCLUDE_DIR}")
 
-if(NOT TARGET fmt::fmt-header-only)
+if(FALSE)
   if(NOT FMT_SOURCE_DIR)
     set(FMT_SOURCE_DIR "${LIBKINETO_THIRDPARTY_DIR}/fmt"
       CACHE STRING "fmt source directory from submodules")
@@ -195,12 +195,12 @@
 if(DEFINED LIBKINETO_NOAIUPTI AND NOT LIBKINETO_NOAIUPTI)
   target_include_directories(kineto_base PUBLIC ${AIU_INCLUDE_DIR})
 endif()
-target_link_libraries(kineto_base PRIVATE $<BUILD_INTERFACE:fmt::fmt-header-only>)
+target_link_libraries(kineto_base PRIVATE fmt)
 
 target_include_directories(kineto_api PUBLIC
       $<BUILD_INTERFACE:${LIBKINETO_DIR}>
       $<BUILD_INTERFACE:${LIBKINETO_INCLUDE_DIR}>)
-target_link_libraries(kineto_api PRIVATE $<BUILD_INTERFACE:fmt::fmt-header-only>)
+target_link_libraries(kineto_api PRIVATE fmt)
 
 if(KINETO_LIBRARY_TYPE STREQUAL "static")
   set(BUILD_SHARED_LIBS OFF)
diff '--color=auto' -ur pytorch-v2.10.0.orig/third_party/kineto/libkineto/src/ApproximateClock.h pytorch-v2.10.0/third_party/kineto/libkineto/src/ApproximateClock.h
--- pytorch-v2.10.0.orig/third_party/kineto/libkineto/src/ApproximateClock.h	2026-01-21 18:09:01.000000000 +0100
+++ pytorch-v2.10.0/third_party/kineto/libkineto/src/ApproximateClock.h	2026-01-21 23:22:47.190335110 +0100
@@ -10,6 +10,7 @@
 
 #pragma once
 
+#include <algorithm>
 #include <array>
 #include <chrono>
 #include <cstddef>
diff '--color=auto' -ur pytorch-v2.10.0.orig/third_party/kineto/libkineto/src/CuptiActivityProfiler.h pytorch-v2.10.0/third_party/kineto/libkineto/src/CuptiActivityProfiler.h
--- pytorch-v2.10.0.orig/third_party/kineto/libkineto/src/CuptiActivityProfiler.h	2026-01-21 18:09:01.000000000 +0100
+++ pytorch-v2.10.0/third_party/kineto/libkineto/src/CuptiActivityProfiler.h	2026-01-21 23:22:47.190381310 +0100
@@ -8,6 +8,7 @@
 
 #pragma once
 
+#include <algorithm>
 #include <atomic>
 #include <chrono>
 #include <deque>
